{% extends "base.html" %}
{% set active_page = "questionnaire" %}

{% block title %}Cloud Cost Calculator{% endblock %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-1 mb-1 ">
  <h2 class="h2">Current Infrastructure Questionnaire</h2>
</div>
<div class="container">
  <form>
    <div class="form-group row">
      <label for="inputEmail3" class="col-sm-2 col-form-label">Number of Applications (containers/VMs)</label>
      <div class="col-sm-10">
        <input type="number" class="form-control" id="inputEmail3" placeholder="app count">
      </div>
    </div>
    <div class="form-group row">
      <label for="inputPassword3" class="col-sm-2 col-form-label">Memory Reservation per application</label>
      <div class="col-sm-10">
        <input type="number" class="form-control" id="inputPassword3" placeholder="GiB">
      </div>
    </div>
    <div class="form-group row">
      <label for="inputPassword3" class="col-sm-2 col-form-label">CPU Reservation per application</label>
      <div class="col-sm-10">
        <input type="number" class="form-control" id="inputPassword3" placeholder="vCPU count">
      </div>
    </div>

    <div class="form-group row">
        <button type="submit" class="btn btn-primary">AWS Cost Estimate</button>
        <button type="submit" class="btn btn-primary disabled">Azure Cost Estimate</button>
    </div>
  </form>
</div>
<canvas class="my w" id="questionnaire" width="380" height="380"></canvas>
<!-- <div class="d-flex mr-auto justify-content-end border-bottom pb-2 pr-2"> -->
<div class="row">
  <div class="col-sm">
  </div>
  <div class="col-sm">
    <div class="input-group input-group-sm px-3">
      <div class="input-group-prepend">
        <span class="input-group-text" id="inputGroup-sizing-sm">Number of Applications VMs or Containers</span>
      </div>
      <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" id="selectorInput" value="{{ selector|e }}">
      <div class="pl-2">
        <button type="button" class="btn btn-primary btn-sm pl-2" id="applySelector">Apply</button>
      </div>
    </div>
  </div>
</div>

{% endblock %}

{% block chartjs %}
<script src="static/Chart.js/2.7.3/Chart.min.js"></script>
<script>
 (function () {
   'use strict'
   var ctx = document.getElementById('monthlyChart')
   var monthlyChart = new Chart(ctx, {{ monthly_chart|tojson }} )
   ctx = document.getElementById('categoryChart')
   var categoryChart = new Chart(ctx, {{ category_chart|tojson }} )
 }())
</script>
{% endblock %}
